/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 3);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (tweet, template, dateFormat) {
  tweet.text = template.replace(/{{tweet\.(\w+)}}/gi, function (variable, key) {
    var value = getProperty(tweet, key);

    if (date.isDate(key)) {
      value = date.format(value, dateFormat);
    }

    return value;
  });

  tweet.text = (0, _entities2.default)(tweet.text, tweet.entities);

  return tweet.text;
};

var _date = __webpack_require__(1);

var date = _interopRequireWildcard(_date);

var _entities = __webpack_require__(2);

var _entities2 = _interopRequireDefault(_entities);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function getProperty() {
  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var key = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  var props = key.replace(/\[(\w+)\]/g, '.$1').split('.');
  var val = obj[props[0]];

  props.slice(1).every(function (prop) {
    val = val.hasOwnProperty(prop) ? val[prop] : null;
    return !!val;
  });

  return val;
}

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isDate = isDate;
exports.format = format;
var MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

function isDate(key) {
  return ~key.indexOf('created_at');
}

function format(d, format) {
  var date = new Date(d);

  var DATES = {
    '%d': date.getDate(),
    '%m': date.getMonth() + 1,
    '%b': MONTHS[date.getMonth()].substr(0, 3),
    '%B': MONTHS[date.getMonth()],
    '%y': date.getFullYear().toString().slice(-2),
    '%Y': date.getFullYear()
  };

  return format.replace(/%(.)/g, function (m) {
    return DATES[m];
  });
}

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (text, entities) {
  if (entities.urls.length) {
    entities.urls.forEach(function (entity) {
      return text = urls(text, entity);
    });
  }

  if (entities.hashtags.length) {
    entities.hashtags.forEach(function (entity) {
      return text = hashtags(text, entity);
    });
  }

  text = users(text);

  return text;
};

function urls(text, entity) {
  return text.replace(entity.url, '<a href="' + entity.expanded_url + '" target="_blank">' + entity.display_url + '</a>');
}

function users(text) {
  return text.replace(/@([a-zA-Z0-9_]+)/g, '<a href="https://twitter.com/$1" target="_blank">@$1</a>');
}

function hashtags(text, entity) {
  var hash = entity.text;
  return text.replace('#' + hash, '<a href="https://twitter.com/hashtag/' + hash + '?src=hash" target="_blank">#' + hash + '</a>');
}

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _template = __webpack_require__(0);

var _template2 = _interopRequireDefault(_template);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function ($) {
  'use strict';

  $.fn.tweetie = function (options, callback) {
    var _this = this;

    var settings = Object.assign({
      apiPath: 'api/tweet.php',

      type: 'timeline',
      params: {},

      template: '{{tweet.created_at}} - {{tweet.text}}',
      dateFormat: '%b/%d/%Y'
    }, options);

    $.get(settings.apiPath, {
      type: settings.type,
      params: settings.params
    }).done(function (response) {
      var template = settings.template,
          dateFormat = settings.dateFormat;


      response.forEach(function (data) {
        var tweet = (0, _template2.default)(data, template, dateFormat);
        _this.append(tweet);
      });

      if (typeof callback === 'function') callback();
    }).fail(function (e) {
      var errors = e.responseJSON.errors;

      errors.forEach(function (err) {
        return $.error(err.message);
      });
    });
  };
})(jQuery);

/***/ })
/******/ ]);